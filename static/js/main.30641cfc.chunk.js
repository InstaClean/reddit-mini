(this["webpackJsonpreddit-mini"]=this["webpackJsonpreddit-mini"]||[]).push([[0],{15:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(6),a=n.n(i),s=(n(15),n(2)),o=n.n(s),u=n(4),d=function(){var e=Object(u.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.reddit.com/r/popular.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=n(5),j=function(){return Object(l.b)()},h=l.c,f=n(10),b=n(3),p=Object(b.b)("articles/fetchArticles",function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("https://www.reddit.com/r/".concat(t,".json"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(b.c)({name:"articles",initialState:{articles:[],filteredArticles:[],searchTerm:"",status:"idle"},reducers:{updateTerm:function(e,t){e.searchTerm=t.payload},search:function(e){var t=e.articles.filter((function(t){return t.title.toUpperCase().includes(e.searchTerm.toUpperCase())}));e.filteredArticles=t}},extraReducers:function(e){e.addCase(p.pending,(function(e){e.status="loading"})).addCase(p.fulfilled,(function(e,t){e.status="idle";var n=t.payload.data.children;console.log(n);var r,c=[],i=Object(f.a)(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;n[n.indexOf(a)].data.stickied||(a.id=n[n.indexOf(a)].data.id,a.title=n[n.indexOf(a)].data.title,a.ups=n[n.indexOf(a)].data.ups,n[n.indexOf(a)].data.is_video&&!n[n.indexOf(a)].data.media.reddit_video.is_gif?(a.media=n[n.indexOf(a)].data.media.reddit_video.fallback_url,a.isVideo=!0):n[n.indexOf(a)].data.url_overridden_by_dest&&(a.media=n[n.indexOf(a)].data.url_overridden_by_dest,a.isVideo=!1),c.push(a))}}catch(s){i.e(s)}finally{i.f()}e.articles=c,e.filteredArticles=c}))}}),O=x.actions,m=O.updateTerm,v=O.search,y=function(e){return e.articles.articles},w=function(e){return e.articles.searchTerm},g=function(e){return e.articles.filteredArticles},k=x.reducer,C=n(0),_=function(){var e=j();return Object(C.jsxs)("div",{className:"subreddits",children:[Object(C.jsxs)("ul",{children:[Object(C.jsx)("li",{children:Object(C.jsx)("button",{type:"button",onClick:function(){return e(p("funnyvideos"))},children:"r/funnyvideos"})}),Object(C.jsx)("li",{children:Object(C.jsx)("button",{type:"button",onClick:function(){return e(p("oldschoolcool"))},children:"r/oldschoolcool"})}),Object(C.jsx)("li",{children:Object(C.jsx)("button",{type:"button",onClick:function(){return e(p("pics"))},children:"r/pics"})}),Object(C.jsx)("li",{children:Object(C.jsx)("button",{type:"button",onClick:function(){return e(p("thewaywewere"))},children:"r/thewaywewere"})}),Object(C.jsx)("li",{children:Object(C.jsx)("button",{type:"button",onClick:function(){return e(p("memes"))},children:"r/memes"})}),Object(C.jsx)("li",{children:Object(C.jsx)("button",{type:"button",onClick:function(){return e(p("astrophotography"))},children:"r/astrophotography"})})]}),Object(C.jsx)("div",{className:"return",children:Object(C.jsx)("a",{href:"#search",children:Object(C.jsx)("button",{children:Object(C.jsx)("span",{children:"Back to Top"})})})})]})},A=function(){var e=j(),t=h(w);return Object(C.jsxs)("div",{id:"searchBar",children:[Object(C.jsx)("label",{htmlFor:"text"}),Object(C.jsx)("input",{type:"text",id:"text",onChange:function(t){return e(m(t.target.value))},value:t}),Object(C.jsx)("label",{htmlFor:"search"}),Object(C.jsx)("input",{type:"button",id:"search",onClick:function(){return e(v())},value:"search"})]})},T=function(e){var t=e.title,n=e.ups,r=e.media,c=e.isVideo;return Object(C.jsxs)("div",{className:"tile",children:[Object(C.jsx)("h2",{children:t}),Object(C.jsxs)("p",{children:[n," upvotes"]}),r&&!c&&Object(C.jsx)("img",{src:r,alt:"article"}),r&&c&&Object(C.jsx)("video",{controls:!0,children:Object(C.jsx)("source",{type:"video/mp4",src:r})})]})},N=function(){j(),h(y);var e=h(g);return Object(C.jsx)("div",{className:"Articles",children:e.map((function(e){return Object(C.jsx)(T,{title:e.title,ups:e.ups,isVideo:e.isVideo,media:e.media},e.id)}))})};var B=function(){return console.log(d()),Object(C.jsxs)("div",{className:"App",children:[Object(C.jsxs)("header",{className:"App-header",children:[Object(C.jsx)("img",{src:"./wave-icon.jpeg",id:"icon",alt:"icon"}),Object(C.jsx)("div",{className:"logo",children:Object(C.jsx)("h1",{children:"JPGs of Reddit"})}),Object(C.jsx)(A,{})]}),Object(C.jsxs)("body",{children:[Object(C.jsx)(N,{}),Object(C.jsx)(_,{})]})]})};function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var J=Object(b.b)("counter/fetchCount",function(){var e=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(b.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(J.pending,(function(e){e.status="loading"})).addCase(J.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),S=R.actions,F=(S.increment,S.decrement,S.incrementByAmount,R.reducer),P=Object(b.a)({reducer:{counter:F,articles:k}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(l.a,{store:P,children:Object(C.jsx)(B,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.30641cfc.chunk.js.map
(this["webpackJsonpreddit-mini"]=this["webpackJsonpreddit-mini"]||[]).push([[0],{15:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(4),s=n.n(i),a=(n(15),n(2)),o=function(){return Object(a.b)()},d=a.c,l=n(10),u=n(8),j=n.n(u),h=n(9),b=n(3),f=Object(b.b)("articles/fetchArticles",function(){var e=Object(h.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,fetch("https://www.reddit.com/r/".concat(t,".json"));case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=Object(b.c)({name:"articles",initialState:{articles:[],filteredArticles:[],searchTerm:"",status:"idle"},reducers:{updateTerm:function(e,t){e.searchTerm=t.payload},search:function(e){var t=e.articles.filter((function(t){return t.title.toUpperCase().includes(e.searchTerm.toUpperCase())}));e.filteredArticles=t}},extraReducers:function(e){e.addCase(f.pending,(function(e){e.status="loading"})).addCase(f.fulfilled,(function(e,t){e.status="idle";var n=t.payload.data.children;console.log(n);var r,c=[],i=Object(l.a)(n);try{for(i.s();!(r=i.n()).done;){var s=r.value;n[n.indexOf(s)].data.stickied||(s.id=n[n.indexOf(s)].data.id,s.title=n[n.indexOf(s)].data.title,s.ups=n[n.indexOf(s)].data.ups,n[n.indexOf(s)].data.is_video&&!n[n.indexOf(s)].data.media.reddit_video.is_gif?(s.media=n[n.indexOf(s)].data.media.reddit_video.fallback_url,s.isVideo=!0):n[n.indexOf(s)].data.url_overridden_by_dest&&(s.media=n[n.indexOf(s)].data.url_overridden_by_dest,s.isVideo=!1),c.push(s))}}catch(a){i.e(a)}finally{i.f()}e.articles=c,e.filteredArticles=c}))}}),O=x.actions,p=O.updateTerm,m=O.search,v=function(e){return e.articles.articles},y=function(e){return e.articles.searchTerm},w=function(e){return e.articles.filteredArticles},g=x.reducer,k=n(0),C=function(){var e=o();return Object(k.jsxs)("div",{className:"subreddits",children:[Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)("button",{type:"button",onClick:function(){return e(f("funnyvideos"))},children:"r/funnyvideos"})}),Object(k.jsx)("li",{children:Object(k.jsx)("button",{type:"button",onClick:function(){return e(f("oldschoolcool"))},children:"r/oldschoolcool"})}),Object(k.jsx)("li",{children:Object(k.jsx)("button",{type:"button",onClick:function(){return e(f("pics"))},children:"r/pics"})}),Object(k.jsx)("li",{children:Object(k.jsx)("button",{type:"button",onClick:function(){return e(f("thewaywewere"))},children:"r/thewaywewere"})}),Object(k.jsx)("li",{children:Object(k.jsx)("button",{type:"button",onClick:function(){return e(f("memes"))},children:"r/memes"})}),Object(k.jsx)("li",{children:Object(k.jsx)("button",{type:"button",onClick:function(){return e(f("astrophotography"))},children:"r/astrophotography"})})]}),Object(k.jsx)("div",{className:"return",children:Object(k.jsx)("a",{href:"#search",children:Object(k.jsx)("button",{children:Object(k.jsx)("span",{children:"Back to Top"})})})})]})},_=function(){var e=o(),t=d(y);return Object(k.jsxs)("div",{id:"searchBar",children:[Object(k.jsx)("label",{htmlFor:"text"}),Object(k.jsx)("input",{type:"text",id:"text",onChange:function(t){return e(p(t.target.value))},value:t}),Object(k.jsx)("label",{htmlFor:"search"}),Object(k.jsx)("input",{type:"button",id:"search",onClick:function(){return e(m())},value:"search"})]})},A=function(e){var t=e.title,n=e.ups,r=e.media,c=e.isVideo;return Object(k.jsxs)("div",{className:"tile",children:[Object(k.jsx)("h2",{children:t}),Object(k.jsxs)("p",{children:[n," upvotes"]}),r&&!c&&Object(k.jsx)("img",{src:r,alt:"article"}),r&&c&&Object(k.jsx)("video",{controls:!0,children:Object(k.jsx)("source",{type:"video/mp4",src:r})})]})},N=function(){o(),d(v);var e=d(w);return Object(k.jsx)("div",{className:"Articles",children:e.map((function(e){return Object(k.jsx)(A,{title:e.title,ups:e.ups,isVideo:e.isVideo,media:e.media},e.id)}))})};var T=function(){return Object(k.jsxs)("div",{className:"App",children:[Object(k.jsxs)("header",{className:"App-header",children:[Object(k.jsx)("img",{src:"./wave-icon.jpeg",id:"icon",alt:"icon"}),Object(k.jsx)("div",{className:"logo",children:Object(k.jsx)("h1",{children:"JPGs of Reddit"})}),Object(k.jsx)(_,{})]}),Object(k.jsxs)("body",{children:[Object(k.jsx)(N,{}),Object(k.jsx)(C,{})]})]})},V=Object(b.a)({reducer:{articles:g}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(a.a,{store:V,children:Object(k.jsx)(T,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.ebc5e0e2.chunk.js.map